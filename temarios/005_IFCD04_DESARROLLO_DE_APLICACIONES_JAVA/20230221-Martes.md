# 20230221 Martes

Vamos a crear un MVC completo incluyendo JSPs.

En base a nuestra plantilla **PlantillaMVCWeb** 

<img width="377" alt="image" src="https://user-images.githubusercontent.com/23094588/221414417-95fda75f-67e7-491d-974c-8c498b37c166.png">

vamos a crear un nuevo proyecto llamado **016-MVC-Completo**.

<img width="377" alt="image" src="https://user-images.githubusercontent.com/23094588/221414707-b8b9452c-3c43-4bc1-a253-9b51bbd6b6f0.png">

## Creación de la Entity

Vamos a empezar creando una Entity llamada **`Weather`** en el paquete **`jee.mvc.model.entities`**

<img width="596" alt="image" src="https://user-images.githubusercontent.com/23094588/221415519-223f7c87-5a2f-4ebd-9dc4-48409fb76dfb.png">

<img width="1173" alt="image" src="https://user-images.githubusercontent.com/23094588/221415584-9a23b2cc-0527-472d-ad31-bcd6899b024b.png">

Esta clase queda como sigue:

<img width="1512" alt="image" src="https://user-images.githubusercontent.com/23094588/221416640-a243aa5e-d1b0-4fdd-b2aa-31d8e4038c58.png">

Observe que los campos estan declarados como **`final`**, esto lo que indica es que no pueden ser modificados, por lo que al crear los métodos getters y setters no los inserta. 

Otra cosa que hay que observar es que todas las Entities deben implementar la Interface **`Serializable`**, por tal cosa debemos declarar el campo **`serialVersionUID`** esto lo hacemos con el editor y así genera el número automáticamente.

## Creación del Repository o DAO

### Creación de la Interface

Vamos a crear la Interface **`WeatherRepository`** en el paquete **`jee.mvc.model`**

<img width="596" alt="image" src="https://user-images.githubusercontent.com/23094588/221417510-9570fac9-1885-492e-8e94-07bbf8d5ee4f.png">

<img width="1175" alt="image" src="https://user-images.githubusercontent.com/23094588/221417646-f3d621f6-f0c9-4b98-8469-a4185bf1cd67.png">

El contenido de la Interface es la siguiente:

<img width="1509" alt="image" src="https://user-images.githubusercontent.com/23094588/221419450-6aa55012-8e46-4d3d-a353-74562d934c58.png">

### Creación de la Implementación de la Interface

<img width="1512" alt="image" src="https://user-images.githubusercontent.com/23094588/221420069-3eabafd7-94dd-4ec0-9cad-c46214994087.png">

<img width="591" alt="image" src="https://user-images.githubusercontent.com/23094588/221420128-50ce12d8-d752-423c-99ed-551bbbed3c3d.png">

<img width="1511" alt="image" src="https://user-images.githubusercontent.com/23094588/221420159-279df8a6-dcce-43a2-ad9c-bfbbe0fcf25b.png">

Nos monta la clase de implementación en base a la Interface que le indicamos, sin código que ya lo metemos nosotros.

## Creación del Servicio

El servicio lo vamos a incluir en el paquete **`jee.mvc.service`** con su Interface e Implementación.

### Creación de la Interface

Vamos a crear la Interface **`WeatherService`** en el paquete **`jee.mvc.service`**

<img width="1512" alt="image" src="https://user-images.githubusercontent.com/23094588/221420564-a03d66f2-7941-44cd-af21-fee13732b269.png">

<img width="595" alt="image" src="https://user-images.githubusercontent.com/23094588/221420606-6489c617-b3fd-4d6b-bd14-f201bfb9bd66.png">

<img width="1182" alt="image" src="https://user-images.githubusercontent.com/23094588/221420635-fc1b1d03-98fd-4ca7-ae2d-00dfee60005b.png">

Vamos a meter el siguiente contenido que es muy similar al que esta en **`WeatherRepository`**.









