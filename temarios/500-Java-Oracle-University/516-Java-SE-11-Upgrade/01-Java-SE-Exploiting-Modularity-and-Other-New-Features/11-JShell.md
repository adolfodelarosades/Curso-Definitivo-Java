# 11: JShell

1. JShell - 16m
2. Practice 11-1: Variables in JShell - 2m
3. Practice 11-2: Methods in JShell - 3m
4. Practice 11-3: Tab Completion - 2m
5. Practice 11-4: Saving and Loading Your Work - 3m
6. Practice 11-5: Forward-Referencing - 2m
7. Practice 11-6: Testing Classes - 8m

## 1. JShell - 16m

 
OK. Let's go ahead and take a look at the tool JShell in Lesson 11. This is a new tool that was added in SE9 and 10. So after completing this lesson, we should be able to explain the REPL process and how it differs from writing code in the IDE, launch the JShell, create JShell scratch variables and snippets, and of course, identify JShell commands and other capabilities, and identify how IDE also can make use of that.

So testing code and API. Lots of times you maybe have this dialogue between colleagues where a colleague can say how's your code coming along? And then the colleague says it looks messy. It's probably using a lot more lines than it should be. You should try using the new stream API enhancement for 9 or 10. I don't know much about the stream API. Why not create a test class and start playing around? Yeah. I have a million test classes.

Of course, the production code is dedicated to properly launching and running your application, and you complicate it when you add throw-away code. Then it becomes a little bit dangerous to experiment with this code. And so we alternatively clutter the IDE by creating little main methods, our test projects. So creating a new main method or a project sometimes feels like it's unnecessary. And just because you have a lot of duplicating code, and you're interested in testing a new line of code, why create a whole class about that?

So we came up with a very nice solution, the JShell. It's a command line interface. It's a REPL type of an interface. Read, evaluate, print, loop process. It allows you to explore the features. So we can go ahead and look at starting the JShell.

So here we can go ahead and start the JShell. And now we can go ahead and basically-- here's an example where we can call A in this case a math SQRT of 8 as an example. And as you see, I don't even have to write the semicolon. I can create a string, in this case name, and set it to, for example, Smith. I can add a semicolon or I don't have to. And this basically, as you see here, gets the name Smith and so forth. So I can go ahead and basically write method, set up some-- write some classes and supports, just on the fly. And so that's the advantage that you have by working with this type of a tool.

Here's an example of where I can pretty much-- I can list. Whenever your put the forward slash and then the command is when you talk to the JShell. And then when you write directly, you basically are using Java. So basic in this case, the JShell basics comparing normal execution with REPL. Again, normal execution you enter all the code ahead of time, compile your code. The program runs once it's entirely compiled.

And of course, you're [INAUDIBLE]. So after the first run, you realize you made a mistake, you need to run the entire program again and support in the JShell, which is REPL process. You enter a line of code, and you get the feedback on that line right on the fly. And that's exactly what we've been doing here, which is pretty much quite powerful.

And so here is again, you can go ahead and start it. And for example, here's another one, math, and called the pow 2,7. This one looks for 2 to the power 7 as an example. So it starts an engine code, and then you have the R for the expression, for example, is read. And then the expression will be evaluated. And then after that, it will be printed, and then the state of the JShell loops back to where it begins and then waiting for other, in this case, a code to write inside. And that's basically what we have here.

So we can have a math in this case as an example and just by looking POW, and then we can put to 2,7 and 2,7. Then will give you 2 to the power 7 as an example. And we can go ahead, by the way, and do edit. Every time you write a forward slash edit or forward slash any command, this basically will go ahead and create a small editor here that allows you to edit your code if you want to change it here.

So for example, I could say a string, in this case a Y equals, and then I can say hello as an example. And then, of course, I'll accept that. And next, we'll go ahead and execute the last one that I added. So you can go ahead and pretty much change your code any way you want using that small editor that we have over there.

So pretty much the scratch variables that you can go ahead and write. You can do a math. You can write a variable. And as you see here, a dollar sign next to the variable that you're working on, a number, any data that you enter, will be a scratch variable. And like most other variables, a scratch variable can store the result of a method call, be referenced later, have its value change, can be a primitive or an object and so forth. And names are auto generated. Of course, great for testing a familiar type of methods or other short experiments.

So it's really, really quite powerful. Of course, you can go ahead and declare traditional variable. Again, too many scratch variables lead to confusion. You may create an unlimited number of scratch variables. Their names aren't, in this case, a descriptor. It becomes hard to remember the purpose of each one of them. So the traditional variables have names which provide context for their purpose. JShell allows you to declare reference and manipulate variables as you normally would. Pretty much the same thing.

So this is definitely something. And of course, you can go ahead basically and in terms of snippets, you can go ahead and create some declarations, some statements, expressions and so on. What's not allowed is if you're using a package or a static final or a top-level statement like a break, continue return. Those are not allowed in the JShell. That's basically what we have.

And one thing also, you can go ahead, for example, and write the for loop. And if it's not finished, you can continue. As you see here, it gives you a mechanism by which you can go ahead and finish all the way until you finish the whole thing. So some of the snippets are best written across many lines like methods, classes, and so forth. And JShell allows you. It waits for the snippet to complete before it will go out and evaluate that for you.

And you can go ahead, for example, in this case and list what you already have, in this case used or maybe look for variables. Here are the variables that you use and so forth. And you can go ahead, for example, and do a system. For example, here a system dot out. And if you hit the Tab twice, it basically gives you some help if you want in this case.

And then if I do a print, for example, here and then I hit the Tab, it tells me what do you want? And so if I do a println and then I hit the Tab twice, then it tells me again in this case the type of methods that are available in the API. So it gives me the signatures, and I can go ahead and pick and choose any one I want. So there is that help, which is really quite good.

So again, the Tab completion, that's exactly what I have shown you here. It gives you tips. And you can pretty much, in this case, once you hit the Tab twice, it will give you in this case the type of-- for example, if I do that for system, I already did it for system dot out, and so you see it's waiting for me to, in this case, continue. Let's assume that in this case I'm going to just say hello and open that and then-- hello with it O-- and close that and in this case and run it. So this will go ahead print hello for me. If I do a system, in this case, system dot and then I print the Tab twice so it gives me what I can choose in this case from the API.

So it is definitely a very nice tool. Like we said, the semicolon which ends the snippet of code is optional. But inside a set up or a few lines of code, that semicolon is mandatory. For example, in the for loop and when you do a system dot R dot print, you need to use that, in this case, the semicolon. Otherwise you'd get an error.

So in terms of the JShell commands, commands allow you to do many things. For example, get a snippet of information, edit a snippet, affect the JShell session, show history, and so forth. So here are some of the commands-- help, forward slash help, edit, drop, save, open, var, methods, types, imports, and so forth. So pretty much you can have all kinds of JShell commands that you can use.

Here's an example where you can see about the imports. Here's again just looking this, so I can go ahead in this case and instead we say forward slash imports. And this, of course, in this case shows me the imports of the Java SE 9. So there's no question that this is definitely an excellent tool, and we strongly advise you to use it for any type of POC, proof of concept, or any type of experimentation that you want to do. On the fly, you can go ahead and try it instead of writing a whole set of classes and methods inside an ID.

So a small quiz here. Do you need to make an import statement before creating an array list in JShell? And the answer, of course, is no. Now we can also start, by the way, the JShell an IDE, either in NetBeans or IntelliJ and so forth. Since we have, in this case, NetBeans, let's go ahead and show you that. So in Y incorporate the JShell and IDE so that as a developer you can work and just create a snippet of code and try to, in this case, do some precision editing, code editing, or shortcuts, or maybe get some tips or looking at some, in this case, any type of code that you want to experiment with to find out if it's really working or not.

And of course, the use cases you can experiment with unfamiliar code like a class your colleague wrote or maybe a Java API, maybe a third-party library. You can bypass and preserve the existing program by running a quick test without breaking existing code, simulating a scenario. And the test idea is how to build out your program start with a simple task, gradually keep on building up this complexity, and eventually integrate the workable solution into your program.

And how to start this in the IDE NetBeans ID, we have a couple of ways to do that. Let's go ahead and take a look at that. So if I open my NetBeans, I have a couple of ways to do that. I either can, in this case, start it from the Tools, and then in this case we'll go ahead and just open the Java platform shell. This will open it. And then I can go ahead and work with it and so forth. Or I can go ahead and start it from the project. Right click and execute JShell. That will also open it.

And I can do system and then hit a Tab and system dot out and so forth. And that we know a and dot out, dot whatever in this case and so forth. Or I can do a string name equals hello, just as an example. And of course, this would go ahead and print that for me. So a couple of ways, either to start it from the Tools and then open the Java platform JShell or right click on your project and then choose execute Java Shell, and that will do both pretty much. And that's what they want us in this case just to show us how actually that works.

So in summary, this is just to show you that this is an example of a REPL process, a tool that we added, which is really quite useful. And we showed you how you start it, how you write some scratch variables, maybe snippet of code to test something and so forth.

We do have some practices that we want you to try, a few of them just related to maybe writing variables, methods, Tab completion, saving and loading your work, forward referencing, testing classes, and so forth. That's basically what we want you to do. So please try these practices before, of course, in this case looking at the solutions. Thank you.

## 2. Practice 11-1: Variables in JShell - 2m

Now that we are done with lesson 11, let's go ahead and try its practices. We'll start with practice 11-1.

Here, we are going to start [INAUDIBLE] the JShell. And then we are going to type, for example, an expression like 2 plus 2. 2 plus 2. And that makes it 4.

We can go ahead and say that would evaluate the expression. And so we can go ahead, in this case, and continue by working with this. Maybe we'll create a variable int, in this case, x. OK? And assign a value to it, equals 3, as an example. We can put a semicolon. We don't have to.

And we go ahead and create a string. String object called name equals, and let's call it ASmith, as an example. We can put a semicolon. We do not have to. OK?

And we can change, in this case, the value of the scratch variable. For example, here I can say x equals 5. And then set it this time the x in this, the value of x is a.

And we can do a slash var, vars. And that will lead us the variables that we work with. And that's pretty much what they want us to do in this practice.

## 3. Practice 11-2: Methods in JShell - 3m

Let's take a look now at a practice 11-2. Here we're going to use methods in the JShell. So they want us to write a calcVolume method and then call it to compute a volume in this case. So they tell us that this method should return a void. And it accepts a double as an argument. r.r the radius of the sphere.

And then compute the area which was 4 times pi times r to the power 4/3. The method, again, must print this value. This method should require about three lines of code. And that's pretty much what I have done here. So I just went ahead and created it. And then when I was looking for pi, I said math and did a tab twice. And then it showed me pi. So I go ahead and added pi times r times r times r, the whole thing divided by 3. OK, I could have used math, and then pow for the r to the power 3. I could have done that. But in that case, I didn't need to. And then, of course, I print this.

And then, of course, I can go ahead and then do an edit. And I can see that pretty much in this case-- slash edit. Sorry, made a mistake here. And you said that this is basically what I have here. And then I called it, [? take ?] [? remember. ?] So I'll go ahead and exit here. And now I can go ahead and call it calcVolume. And then I can go ahead and pass 1 to with if I want.

And that will go ahead and find the volume in this case. Or I can go ahead and call it again. I can do this and call it again. calcVolume, and then I pass 2 to it, for example. OK. And that also will give me 33, and so forth. We can do the same thing, by the way, by creating in this case a calcArea that computes the area, in this case.

And basically, it accepts r, and then compute the area of a, which is going to be 4 times pi times r 2. So I can write the same thing, except that r times r divided in this case, of course-- in our case here, there is no division by 3. So it's 4 times pi times r to the power 2. You could have done that too, if you want. And the concept is pretty much the same. And that's what they want us to do in this practice.

## 4. Practice 11-3: Tab Completion - 2m

Let's take a look now at practice 11-3 where we do with the Tab completion. And this basically by pressing the Tab, the JShell provide the list of all possible classes, methods, data types, and matching what you've typed. And let's go in and take a look at that.

So for example here, we can go ahead and write str and put a tab. So you see, it tells me, do you want to use any one of these? Or I can go ahead and use calc and put the Tab. And that, of course, in this case-- you see, it-- because I have calc volumes already existing over there. That's one.

I can go ahead and do a sys and a Tab. And that because I have a system before, that's why it already there. Or I can do a system, in this case, dot and then I put a tab which allows me to pretty much choose from these if I'm just kind of like a help, quickly.

I can also do a System dot, in this case, getProperty. And you see how it's basically guiding me. And now I can go ahead and look at the type and see what I can get, in this case. Property, that takes a string, or a key and the string, and so forth. And that's the idea behind, again, doing this practice.

## 5. Practice 11-4: Saving and Loading Your Work - 3m

Let's take a look at a practice 11-4. Here, we're going to save and load your work. So in the practice, you will see how to save and load your work, your just shared word.

As you saw in the previous practice, it can sometimes take a bit of time to prepare a scenario in JShell with correctly written variables, methods, and/or classes. JShell provides a convenient feature to save and load your work. This allows you to step away and resume a JShell session without needing to rewrite anything, in this case, if you also provide, in this case, an advantage.

It also provides an advantage similar to Version Control where you can revert back to a previous saved state if later work breaks your code. OK? So remember, we have the Help. So let's go back, and we can use the forward slash help. That will give you all the help that's pretty much available.

And I turn on that I already, in this case, a run the Save. And I provided the file in this case. And so I pretty much used Save. And then used file.txt. OK? And that's what I did.

Now what I want to do is open it, that file.txt. And you see it's going to run my code. OK? Because remember that a forward slash edit is the code that I have, in this case. And I code it by, in this case, a running the volume of, first of all, I passed three, and then I passed I think one, and then two or something like that. And that's basically what you see here. OK?

And we can also use the forward slash list. The forward slash list lists basically all the what we did so far. You know? If you remember, we played with all of this.

And you also have the drop. You know? The DROP command, to simulate wrecking your shell working by removing a few variables, in this case, or [INAUDIBLE] or whatever. For example, I can go ahead and say a DROP. And then I go ahead and drop x. Drop the variable x. OK?

Can also do a RESET. That will resetting my JShell as an example. OK?

And this is pretty much what they want us to do in this practice, just to try this different type of commands, JShell commands. That's what it is.

## 6. Practice 11-5: Forward-Referencing - 2m

Let's take a look now at practice 11-5. In this practice, we'll see a few more interesting aspects of JShell. This includes forward referencing, which allows the JShell to call methods which haven't yet been written. And of course, this practice will allow us to see that. So what we have done in this case is pretty much we went to NetBeans and I opened the JShell just from here, and I created the intrate. I just made the variables a little bit smaller to type faster, which is 0.02.

And then just following the practice, I created a method, earnInterest. I just call it here earnRate. And then took a balance, which is equal to balance plus the times, rather, in this case. I made a mistake, sorry. It should be times. And then print that. And then after that, we went-- and it says here, we created.

But then it would be invoked when the printbalance is created. So that's why we created a printbalance. And now, of course, in this case, we'll go ahead and if we pass to it, then as you see, it is plus instead of-- so in our case here, it should have been using times. That's pretty much [INAUDIBLE]. And this is just showing you forward referencing, how a method can call another method in the JShell. That's pretty much one less to do in this practice.

## 7. Practice 11-6: Testing Classes - 8m


Let's go ahead and try Practice 11-6, Testing Classes.

You will examine how JShell in NetBeans can be used to test classes. In many cases, your production code will be dedicated to getting the proper components of your program initialized and running properly. It's dangerous to tamper with this code for the sake of testing an unfamiliar API. JShell provides an alternative location where you can test API and edit you've made in classes. You can also use this approach to test code from a colleague, a library, or a module.

We should note that opening a JShell session on NetBeans project is a little buggy in this version of NetBeans, just to let you know.

So we went ahead in this case, an opened the JShell on the project. We opened first of all, the project. And from there, right-click and execute the JShell. That's what I have. And then they started by asking us to import, in this case, the com.example.stream API. And then we create a new instance of the special bond. And that's basically what I have here.

And then after that, they want us to, in this case, open a module-import.java and then export the com.example.stream API. That's what I did. I added this.

And then, of course, after that, they want us to build the project. I already did. And then they want us to reset the JShell session. That's what I did. So I invoke the reset here. And then I did, in this case, re-entered the import and instantiate the instance. And that's what I have here. As you see, all of this is done.

And then after that, they want us to call the bond and interest and then get the balance. And that's basically what I have here. So it returns this in this case, the get balance, which pretty much exactly observed again the original balance has earned interest. And now, of course, we take a look at it, it's $2,040. So it earned a little bit of interest, as you see here. That's basically what they want us to, in this case, do.

And so that a pretty much, in this case, kind of just showing us what we are looking in terms of playing with this practice. And then after that, they want us to open the in this case-- let me go back to the special bond and added the printBalance. And then, of course, add that the method printBalance, which are all here. That's what I did. And, of course, in this case, I saved all of that. And so you save your changes.

And then, of course, you return to your, in this case, JShell. And once we return to the JShell here, we wanted to reset and re-import and re-initialize and then call the interest rate in this case. So pretty much, first we go ahead and reset. And then we go ahead and import in this case the com.example.stream API.

And then after that-- so we did this-- and then after that, we'll go ahead and instantiate, in this case a special bond, a bond equals new a special bond. And we'd of course a 2,000. That's pretty much what they want us to do. Again, just following the practice. That's what we're doing here.

So they want us to re-enter in this case and then re-instantiate the bond and then call the interest rate on the bond. And that's basically what they want us to do. So we'll go ahead and do that.

And then now we go ahead and call bond, in this case, dot and then a earned interest rate. That would be the second one here. And that's what they want us to do in this case.

And we'll go ahead and call that and of course a few times. Go ahead and do that a few times. They want us to just do it few times. That's basically what they're asking us to do.

And of course, having the reset JShell and set up your test scenario, again, it can be tedious. JShell thankfully provides a way around this. So we can do a reload in this case, a common command that resets your session and then automatically have the shell call every snippet of the code that you do.

And we can go ahead and set the special bonds interest to 0.1, which is 10%, and save and run, of course, and then try it again. So we can go ahead and do that. And then try it again, just so that you can have a good idea and then observe the JShell execute that. So that is pretty much what they want us to do in this case, just so that we can go ahead and playing in our case here with-- so here, we can change this to 10%.

That's a mistake. So 0.1 it should be. That's what they want us to do, exactly what they want us to do. Bond1 and save. And then, of course, in this case, and so that's basically what they want us to do here. And then save and compile your project. Let's go ahead and compile our project. Build. So that's done. And then type reload.

So we go to JShell. And then, in this case, a forward slash reload. And of course this will load. And pretty much in this case, as you see, it will go ahead and reload that for us and by doing it again. And that's the reload that they want us to use.

So again, we talked about the JShell executes all the previous snippets that you see. And that's what they want us to do in this practice pretty much. And that's what they want us to do in this practice pretty much.
